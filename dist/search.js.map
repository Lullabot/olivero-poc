{"version":3,"sources":["search.js"],"names":["searchButton","document","querySelector","searchWrapper","siteHeader","toggleSearchWrapper","visibility","setAttribute","classList","toggle","addEventListener","handleFocus","once","searchIsVisible","input","console","log","focus","getAttribute","e","keyCode"],"mappings":";;AAAA,CAAC,YAAW;AACV,MAAMA,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,4BAAvB,CAArB;AACA,MAAMC,aAAa,GAAGF,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAtB;AACA,MAAME,UAAU,GAAGH,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAnB;;AAEA,WAASG,mBAAT,CAA6BC,UAA7B,EAAyC;AACvCN,IAAAA,YAAY,CAACO,YAAb,CAA0B,eAA1B,EAA2CD,UAAU,IAAI,IAAzD;AACAH,IAAAA,aAAa,CAACI,YAAd,CAA2B,eAA3B,EAA4CD,UAAU,IAAI,IAA1D;AACAF,IAAAA,UAAU,CAACI,SAAX,CAAqBC,MAArB,CAA4B,kBAA5B;AAEAN,IAAAA,aAAa,CAACO,gBAAd,CAA+B,eAA/B,EAAgDC,WAAhD,EAA6D;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAA7D;AACD;;AAED,WAASD,WAAT,GAAuB;AACrB,QAAIE,eAAe,EAAnB,EAAuB;AACrB,UAAMC,KAAK,GAAGX,aAAa,CAACD,aAAd,CAA4B,sBAA5B,CAAd;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAA,MAAAA,KAAK,CAACG,KAAN;AACD,KAJD,MAKK;AACHjB,MAAAA,YAAY,CAACiB,KAAb;AACD;AACF;;AAED,WAASJ,eAAT,GAA2B;AACzB,WAAOV,aAAa,CAACe,YAAd,CAA2B,eAA3B,MAAgD,MAAvD;AACD;;AAEDlB,EAAAA,YAAY,CAACU,gBAAb,CAA8B,OAA9B,EAAuC;AAAA,WAAML,mBAAmB,CAAC,CAACQ,eAAe,EAAjB,CAAzB;AAAA,GAAvC;AAEAZ,EAAAA,QAAQ,CAACS,gBAAT,CAA0B,OAA1B,EAAmC,UAAAS,CAAC,EAAI;AACtC,QAAIA,CAAC,CAACC,OAAF,KAAc,EAAlB,EAAsB;AACpBf,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACD;AACF,GAJD;AAKD,CAnCD","sourcesContent":["(function() {\n  const searchButton = document.querySelector('.header-nav__search-button');\n  const searchWrapper = document.querySelector('.search-wrapper');\n  const siteHeader = document.querySelector('.site-header');\n\n  function toggleSearchWrapper(visibility) {\n    searchButton.setAttribute('aria-expanded', visibility == true);\n    searchWrapper.setAttribute('aria-expanded', visibility == true);\n    siteHeader.classList.toggle('js-search-active');\n\n    searchWrapper.addEventListener('transitionend', handleFocus, { once: true });\n  }\n\n  function handleFocus() {\n    if (searchIsVisible()) {\n      const input = searchWrapper.querySelector('input[type=\"search\"]');\n      console.log(input);\n      input.focus();\n    }\n    else {\n      searchButton.focus();\n    }\n  }\n\n  function searchIsVisible() {\n    return searchWrapper.getAttribute('aria-expanded') === 'true';\n  }\n\n  searchButton.addEventListener('click', () => toggleSearchWrapper(!searchIsVisible()));\n\n  document.addEventListener('keyup', e => {\n    if (e.keyCode === 27) {\n      toggleSearchWrapper(false);\n    }\n  })\n})();\n"],"file":"search.js"}