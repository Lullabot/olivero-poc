{"version":3,"sources":["second-level-navigation.js"],"names":["secondLevelNavMenus","document","querySelectorAll","forEach","el","button","createElement","subMenu","querySelector","classList","add","textContent","addEventListener","expandSubNav","insertBefore","e","target","parentNode","isButtonPressed","setAttribute","getAttribute"],"mappings":";;AAAA,CAAC,YAAW;AACV,MAAMA,mBAAmB,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,8CAA1B,CAA5B,CADU,CAGV;AACA;;AACAF,EAAAA,mBAAmB,CAACG,OAApB,CAA4B,UAAAC,EAAE,EAAI;AAChC,QAAMC,MAAM,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,QAAvB,CAAf;AACA,QAAMC,OAAO,GAAGH,EAAE,CAACI,aAAH,CAAiB,uBAAjB,CAAhB;AAEAH,IAAAA,MAAM,CAACI,SAAP,CAAiBC,GAAjB,CAAqB,4BAArB;AACAL,IAAAA,MAAM,CAACM,WAAP,GAAqB,uBAArB;AACAN,IAAAA,MAAM,CAACO,gBAAP,CAAwB,OAAxB,EAAiCC,YAAjC;AACAT,IAAAA,EAAE,CAACU,YAAH,CAAgBT,MAAhB,EAAwBE,OAAxB;AACD,GARD;;AAUA,WAASM,YAAT,CAAsBE,CAAtB,EAAyB;AACvB,QAAMV,MAAM,GAAGU,CAAC,CAACC,MAAjB;AACA,QAAMT,OAAO,GAAGF,MAAM,CAACY,UAAP,CAAkBT,aAAlB,CAAgC,uBAAhC,CAAhB;;AAEA,QAAI,CAACU,eAAe,CAACb,MAAD,CAApB,EAA8B;AAC5BA,MAAAA,MAAM,CAACc,YAAP,CAAoB,cAApB,EAAoC,MAApC;AACAZ,MAAAA,OAAO,CAACY,YAAR,CAAqB,eAArB,EAAsC,MAAtC;AACD,KAHD,MAIK;AACHd,MAAAA,MAAM,CAACc,YAAP,CAAoB,cAApB,EAAoC,OAApC;AACAZ,MAAAA,OAAO,CAACY,YAAR,CAAqB,eAArB,EAAsC,OAAtC;AACD;AACF;;AAED,WAASD,eAAT,CAAyBd,EAAzB,EAA6B;AAC3B,WAAOA,EAAE,CAACgB,YAAH,CAAgB,cAAhB,MAAoC,MAA3C;AACD;AACF,CAhCD","sourcesContent":["(function() {\n  const secondLevelNavMenus = document.querySelectorAll('.primary-nav--level-1 [aria-haspopup=\"true\"]');\n\n  // Insert a button after the <a> element that will control the visibility\n  // of the second-level navigation.\n  secondLevelNavMenus.forEach(el => {\n    const button = document.createElement('button');\n    const subMenu = el.querySelector('.primary-nav--level-2');\n\n    button.classList.add('primary-nav__button-expand');\n    button.textContent = 'Expand sub-navigation';\n    button.addEventListener('click', expandSubNav);\n    el.insertBefore(button, subMenu);\n  });\n\n  function expandSubNav(e) {\n    const button = e.target;\n    const subMenu = button.parentNode.querySelector('.primary-nav--level-2');\n\n    if (!isButtonPressed(button)) {\n      button.setAttribute('aria-pressed', 'true');\n      subMenu.setAttribute('aria-expanded', 'true');\n    }\n    else {\n      button.setAttribute('aria-pressed', 'false');\n      subMenu.setAttribute('aria-expanded', 'false');\n    }\n  }\n\n  function isButtonPressed(el) {\n    return el.getAttribute('aria-pressed') === 'true';\n  }\n})();\n"],"file":"second-level-navigation.js"}