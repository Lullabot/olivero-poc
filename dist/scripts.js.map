{"version":3,"sources":["scripts.js"],"names":["fixables","document","querySelectorAll","monitorNavPosition","primaryNav","querySelector","options","rootMargin","threshold","observer","IntersectionObserver","toggleDesktopNavVisibility","observe","entries","isDesktopNav","forEach","entry","console","log","intersectionRatio","el","classList","add","remove","navButton","window","getComputedStyle","getPropertyValue"],"mappings":";;AAAA,CAAC,YAAW;AACV;AACA;AACA;AAEA,MAAMA,QAAQ,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,CAAjB;;AAEA,WAASC,kBAAT,GAA8B;AAC5B,QAAMC,UAAU,GAAGH,QAAQ,CAACI,aAAT,CAAuB,cAAvB,CAAnB;AACA,QAAMC,OAAO,GAAG;AACdC,MAAAA,UAAU,EAAE,MADE;AAEdC,MAAAA,SAAS,EAAE,CAAC,KAAD,EAAQ,CAAR;AAFG,KAAhB;AAKA,QAAMC,QAAQ,GAAG,IAAIC,oBAAJ,CAAyBC,0BAAzB,EAAqDL,OAArD,CAAjB;AACAG,IAAAA,QAAQ,CAACG,OAAT,CAAiBR,UAAjB;AACD;;AAED,WAASO,0BAAT,CAAoCE,OAApC,EAA6C;AAC3C,QAAI,CAACC,YAAY,EAAjB,EAAqB;AAErBD,IAAAA,OAAO,CAACE,OAAR,CAAgB,UAAAC,KAAK,EAAI;AACvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,iBAAlB;;AAEA,UAAIH,KAAK,CAACG,iBAAN,GAA0B,CAA9B,EAAiC;AAC/BnB,QAAAA,QAAQ,CAACe,OAAT,CAAiB,UAAAK,EAAE;AAAA,iBAAIA,EAAE,CAACC,SAAH,CAAaC,GAAb,CAAiB,UAAjB,CAAJ;AAAA,SAAnB;AACD,OAFD,MAGK;AACHtB,QAAAA,QAAQ,CAACe,OAAT,CAAiB,UAAAK,EAAE;AAAA,iBAAIA,EAAE,CAACC,SAAH,CAAaE,MAAb,CAAoB,UAApB,CAAJ;AAAA,SAAnB;AACD;AACF,KAVD;AAaD;;AAGD,WAAST,YAAT,GAAwB;AACtB,QAAMU,SAAS,GAAGvB,QAAQ,CAACI,aAAT,CAAuB,qBAAvB,CAAlB;AACA,WAAOoB,MAAM,CAACC,gBAAP,CAAwBF,SAAxB,EAAmCG,gBAAnC,CAAoD,SAApD,MAAmE,MAA1E;AACD;;AAEDxB,EAAAA,kBAAkB;AAEnB,CA5CD","sourcesContent":["(function() {\n  // document.querySelector('.nav-primary__button').addEventListener('click', e => {\n  //   e.target.classList.toggle('js-active');\n  // });\n\n  const fixables = document.querySelectorAll('.fixable')\n\n  function monitorNavPosition() {\n    const primaryNav = document.querySelector('.site-header');\n    const options = {\n      rootMargin: '72px',\n      threshold: [0.999, 1]\n    }\n\n    const observer = new IntersectionObserver(toggleDesktopNavVisibility, options);\n    observer.observe(primaryNav);\n  }\n\n  function toggleDesktopNavVisibility(entries) {\n    if (!isDesktopNav()) return;\n\n    entries.forEach(entry => {\n      // Every pixel is visible at 1.\n      console.log(entry.intersectionRatio);\n\n      if (entry.intersectionRatio < 1) {\n        fixables.forEach(el => el.classList.add('js-fixed'))\n      }\n      else {\n        fixables.forEach(el => el.classList.remove('js-fixed'))\n      }\n    })\n\n\n  }\n\n\n  function isDesktopNav() {\n    const navButton = document.querySelector('.header-nav__button');\n    return window.getComputedStyle(navButton).getPropertyValue('display') === 'none';\n  }\n\n  monitorNavPosition();\n\n})();\n"],"file":"scripts.js"}